# 更新日志

所有重要的项目变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.1.0] - 2025-10-27

### 重构
- ✨ **三方四正逻辑优化**：使用正确的紫微斗数三方四正规则
- 📊 **数据获取优化**：使用API返回的三方四正关系数据
- 🔧 **代码简化**：移除复杂计算，改为数据查找模式
- 🎯 **显示准确性**：基于传统紫微斗数理论的三方四正显示

### 修复
- 🔧 **三方四正计算错误**：修复了之前基于空间间隔的错误计算方法
- 🎨 **交互体验优化**：保留鼠标悬停高亮，移除点击锁定功能
- 🌈 **视觉效果增强**：添加高亮指示器，提升用户体验

### 技术改进
- 🔄 **计算逻辑简化**：使用computed响应式数据，直接查找三方四正关系数据
- 📦 **数据结构优化**：利用API提供的 `sanfangSizhengMap` 映射表
- 🎯 **显示一致性**：确保三方四正关系显示结果准确

### 变更详情
- **前端**：
  - 移除错误的间隔计算逻辑和 `SANFANG_SIZHENG_RELATIONS` 常量表
  - 简化 `calculateHighlightedGongs` 函数，直接使用API数据
  - 保留鼠标悬停交互，移除点击锁定功能
  - 优化高亮显示效果，提升用户体验

### 验证结果
- ✅ 命宫三方四正显示：命宫 → 财帛宫、官禄宫、迁移宫
- ✅ 兄弟宫三方四正显示：兄弟宫 → 疾厄宫、田宅宫、交友宫
- ✅ 所有宫位的三方四正关系显示均符合传统紫微斗数理论

## [1.0.0] - 2025-10-25

### 新增
- 🎯 专业紫微斗数命盘展示系统
- 🎨 现代化Vue.js 3 + TypeScript + Vite技术栈
- 🔮 传统十二宫位布局实现
- ⭐ 甲级星、乙级星、丙级星完整显示
- 🌟 四化星系统（化禄、化权、化科、化忌）
- 📊 七种亮度状态指示（庙、旺、得地、利益、平和、不得地、陷）
- 🎨 专业配色方案（参考ziwei.pub标准）
- 📱 响应式设计，适配多端设备
- 🔧 交互式界面，支持宫位点击
- 🔗 三方四正连线可视化
- 💫 实时排盘计算功能
- 📋 Element Plus UI组件库集成

### 设计特色
- 🎯 甲级星统一红色显示，突出重要性
- 📦 亮度状态和四化星采用方框设计
- 📝 纵排文字显示，节省空间
- 🎪 两列布局：甲级星左列，乙级/丙级星右列
- 🌈 层次分明的视觉设计

### 技术特性
- ⚡ Vite快速开发和构建
- 🔒 TypeScript类型安全
- 🧹 ESLint + Prettier代码规范
- 🎯 SCSS样式预处理
- 🔄 Hot Module Replacement热更新
- 📦 模块化组件架构

## [1.0.0] - 2025-10-25

### 新增
- 🎉 项目初始化
- 📁 基础项目结构搭建
- 🚀 Vue.js 3 + TypeScript + Vite 环境配置
- 🎨 基础UI框架集成
- 📖 完整的文档系统
- 🔧 开发工具链配置

---

### 版本号说明

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 变更类型

- `新增` - 新功能
- `变更` - 对现有功能的变更
- `弃用` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - 问题修复
- `安全` - 安全相关的修复